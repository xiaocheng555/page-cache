import{h as P,v as L,g as C,j as w,z as q,d as R,i as k,A as N,o as g,c as z,q as b,B as S,s as H,C as $,r as v,l as M,b as i,w as y,m as Q,n as x,f as O}from"./index.68c54564.js";import{_ as T}from"./Detail.vue_vue_type_script_setup_true_lang.bffa5adf.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";const U=u=>{const s=P(),l=L(),o=C(!1),{dialogVisible:a}=u;let n=!1,p=!1;function D(){u.auto&&E()&&(a.value=!0,o.value=!0)}function d(){r()}function A(){!p&&E()&&(m()?s.go(-1):F(),console.log("\u624B\u52A8\u5173\u95ED\u5F39\u7A97")),o.value=!1,p=!1,n=!1}function m(){var e;const t=(e=window.history)==null?void 0:e.state;if(t){if(!t.back)return!1;const c=s.resolve(t.back||"");if(c.path===l.path){const h=c.query,B={...l.query};for(let f in h){if(!B[f])return!1;delete B[f]}for(let f in u.history.value){if(!B[f])return!1;delete B[f]}return Object.keys(B).length===0}return!1}else return n}function E(){if(!u.history.value)return!1;const{query:t}=l;return Object.keys(u.history.value).some(e=>!!t[e])}function r(){E()||(s.push({query:{...l.query,...u.history.value}}),n=!0,console.log("\u624B\u52A8\u6253\u5F00\u5F39\u7A97"))}function F(){if(!u.history.value)return;const t={};Object.keys(u.history.value).forEach(e=>{t[e]=void 0}),s.replace({query:{...l.query,...t}})}return w(()=>{a.value?d():D()}),q(()=>l.query,()=>{var e,c;if(!u.history.value)return;const t=E();if(!t&&a.value){a.value=!1,p=!0,(e=u==null?void 0:u.onAutoClose)==null||e.call(u),console.log("\u81EA\u52A8\u5173\u95ED\u5F39\u7A97");return}t&&!a.value&&(a.value=!0,n=!0,(c=u==null?void 0:u.onAutoOpen)==null||c.call(u),console.log("\u81EA\u52A8\u6253\u5F00\u5F39\u7A97"))}),q(()=>a.value,t=>{t?d():A()}),{firstOpen:o}},J=R({__name:"PopupPage",props:{modelValue:{type:Boolean,default:!1},history:{type:Object},auto:{type:Boolean,default:!0},size:{type:String,default:"50%"},full:{type:Boolean,default:!1}},emits:["update:modelValue","autoOpen","autoClose"],setup(u,{emit:s}){const l=u,o=k({get(){return l.modelValue},set(a){s("update:modelValue",a)}});return N(o),U({history:k(()=>l.history),auto:l.auto,dialogVisible:o,onAutoOpen:()=>s("autoOpen"),onAutoClose:()=>s("autoClose")}),(a,n)=>(g(),z("div",{class:$(["popup-page",[!b(o)&&"hidden"]])},[b(o)?S(a.$slots,"default",{key:0}):H("",!0)],2))}});const G=O("\u7236\u5B50\u8DEF\u7531\u5B9E\u73B0\u7F13\u5B58"),K=O("\u8FDB\u5165\u8BE6\u60C5"),W=O("\u521A\u70B9\u51FB"),X=R({__name:"List4",setup(u){const s=C([]),l=C(null),o=C(1),a=C(30),n=C(!1),p=P(),D=k(()=>{const r=a.value*(o.value-1);return s.value.slice(r,r+a.value)}),d=C(!1);function A(r=200){function F(){const e=["\u8FD9\u662F\u4E00\u6761\u6D4B\u8BD5\u6570\u636E","\u541B\u4E0D\u89C1\u9EC4\u6CB3\u4E4B\u6C34\u5929\u4E0A\u6765\uFF0C\u5954\u6D41\u5230\u6D77\u4E0D\u590D\u56DE\u3002","\u5341\u5E74\u751F\u6B7B\u4E24\u832B\u832B","\u5BFB\u5BFB\u89C5\u89C5\uFF0C\u51B7\u51B7\u6E05\u6E05\uFF0C\u51C4\u51C4\u60E8\u60E8\u621A\u621A\u3002","\u6843\u82B1\u575E\u91CC\u6843\u82B1\u5EB5\uFF0C\u6843\u82B1\u5EB5\u91CC\u6843\u82B1\u4ED9\uFF1B\u6843\u82B1\u4ED9\u4EBA\u79CD\u6843\u6811\uFF0C\u53C8\u6458\u6843\u82B1\u5356\u9152\u94B1\u3002","\u660E\u6708\u51E0\u65F6\u6709\uFF0C\u628A\u9152\u95EE\u9752\u5929\u3002","\u69DB\u83CA\u6101\u70DF\u5170\u6CE3\u9732\uFF0C\u7F57\u5E55\u8F7B\u5BD2\uFF0C","\u5BD2\u8749\u51C4\u5207\uFF0C\u5BF9\u957F\u4EAD\u665A\uFF0C\u9AA4\u96E8\u521D\u6B47\u3002\u90FD\u95E8\u5E10\u996E\u65E0\u7EEA\uFF0C\u7559\u604B\u5904\uFF0C\u5170\u821F\u50AC\u53D1\u3002\u6267\u624B\u76F8\u770B\u6CEA\u773C\uFF0C\u7ADF\u65E0\u8BED\u51DD\u564E\u3002\u5FF5\u53BB\u53BB\uFF0C\u5343\u91CC\u70DF\u6CE2\uFF0C\u66AE\u972D\u6C89\u6C89\u695A\u5929\u9614\u3002\u591A\u60C5\u81EA\u53E4\u4F24\u79BB\u522B\uFF0C\u66F4\u90A3\u582A\u51B7\u843D\u6E05\u79CB\u8282\uFF01\u4ECA\u5BB5\u9152\u9192\u4F55\u5904\uFF1F\u6768\u67F3\u5CB8\uFF0C\u6653\u98CE\u6B8B\u6708\u3002\u6B64\u53BB\u7ECF\u5E74\uFF0C\u5E94\u662F\u826F\u8FB0\u597D\u666F\u865A\u8BBE\u3002\u4FBF\u7EB5\u6709\u5343\u79CD\u98CE\u60C5\uFF0C\u66F4\u4E0E\u4F55\u4EBA\u8BF4\uFF1F","\u7EA2\u8C46\u751F\u5357\u56FD\uFF0C\u6625\u6765\u53D1\u51E0\u679D\u3002","\u9EC4\u9E42"],c=Math.floor(Math.random()*10);return e[c]}const t=[];for(let e=0;e<r;e++)t.push({id:e,content:F()});return t}function m(r){l.value=r,n.value=!0}function E(){p.back()}return w(()=>{d.value=!0,setTimeout(()=>{s.value=A(),d.value=!1},1e3)}),(r,F)=>{const t=v("el-page-header"),e=v("el-table-column"),c=v("el-link"),h=v("el-tag"),B=v("el-table"),f=v("el-pagination"),j=M("loading");return g(),z("div",null,[i(t,{onBack:E},{content:y(()=>[G]),_:1}),Q((g(),x(B,{data:b(D),border:"",style:{width:"100%","margin-top":"30px"}},{default:y(()=>[i(e,{prop:"id",label:"id"}),i(e,{prop:"content",label:"\u5185\u5BB9"}),i(e,{label:"\u64CD\u4F5C"},{default:y(({row:_})=>{var V;return[i(c,{type:"primary",onClick:Y=>m(_)},{default:y(()=>[K]),_:2},1032,["onClick"]),_.id===((V=l.value)==null?void 0:V.id)?(g(),x(h,{key:0,type:"success"},{default:y(()=>[W]),_:1})):H("",!0)]}),_:1})]),_:1},8,["data"])),[[j,d.value]]),i(f,{currentPage:o.value,"onUpdate:currentPage":F[0]||(F[0]=_=>o.value=_),"page-size":a.value,layout:"total, prev, pager, next",total:s.value.length},null,8,["currentPage","page-size","total"]),i(J,{modelValue:n.value,"onUpdate:modelValue":F[1]||(F[1]=_=>n.value=_),full:"",history:{data:JSON.stringify(l.value)}},{default:y(()=>[i(T)]),_:1},8,["modelValue","history"])])}}});const tu=I(X,[["__scopeId","data-v-e5cec511"]]);export{tu as default};
